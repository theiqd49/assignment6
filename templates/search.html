{% extends "base.html" %}
{% set active_page = 'search' %}
{% block page_title%}search{% endblock %}
{% block self_content %}
<div class="d-flex justify-content-center mt-2">
    <form id="search-input" method="post" class="form-inline">
        <input type="text" class="form-control mr-2 mt-2"
        placeholder="Search keyword" name="keyword">
        <label class="mr-2 mt-2">@</label>
        <select class="form-control mr-2 mt-2" name="field">
        <option>All fields</option>
        <option>Tag</option>
        <option>Location</option>
    </select>
        <input type="submit" class="btn btn-primary mt-2" value="Go">
    </form>
</div>

<div class="container">
    <div class="card-deck">
        {% set report_num = namespace(cnt=0) %}
        {% for report in reports %}
        {% set report_num.cnt = report_num.cnt + 1 %}
        <a class="card mb-2 mt-2 ml-1 mr-1 " style="max-width:
        13.5em; text-decoration: none;" href="test.html">

            <div class="card-header">{{report.r_username}}</div>
            <div class="card-body">
<!--                        <h5 class="card-title">{{report.r_username}}</h5>-->
                <img src="{{report.r_url}}" class="card-img-top img-fluid">
                <p class="card-text">{{report.r_description}}</p>
            </div>
        </a>
        <!--  Ref: https://stackoverflow.com/questions/36430816/bootstrap-4-card-deck-with-number-of-columns-based-on-viewport -->
        {% if report_num.cnt % 2 == 0 %}
            <div class="w-100 d-none d-sm-block d-md-none">
                <!-- wrap every 2 on sm-->
            </div>
        {% endif %}
        {% if report_num.cnt % 3 == 0 %}
            <div class="w-100 d-none d-md-block d-lg-none">
                <!-- wrap every 3 on md-->
            </div>
        {% endif %}
        {% if report_num.cnt % 4 == 0 %}
            <div class="w-100 d-none d-lg-block d-xl-none">
                <!-- wrap every 4 on lg-->
            </div>
        {% endif %}
        {% if report_num.cnt % 5 == 0 %}
            <div class="w-100 d-none d-xl-block">
                <!-- wrap every 5 on xl-->
            </div>
        {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}
